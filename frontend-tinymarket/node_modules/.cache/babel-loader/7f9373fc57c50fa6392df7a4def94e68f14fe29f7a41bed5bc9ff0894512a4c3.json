{"ast":null,"code":"import { InvalidDIDError } from '@stacks/common';\nexport function makeDIDFromAddress(address) {\n  return `did:btc-addr:${address}`;\n}\nexport function makeDIDFromPublicKey(publicKey) {\n  return `did:ecdsa-pub:${publicKey}`;\n}\nexport function getDIDType(decentralizedID) {\n  const didParts = decentralizedID.split(':');\n  if (didParts.length !== 3) {\n    throw new InvalidDIDError('Decentralized IDs must have 3 parts');\n  }\n  if (didParts[0].toLowerCase() !== 'did') {\n    throw new InvalidDIDError('Decentralized IDs must start with \"did\"');\n  }\n  return didParts[1].toLowerCase();\n}\nexport function getAddressFromDID(decentralizedID) {\n  if (decentralizedID) {\n    const didType = getDIDType(decentralizedID);\n    if (didType === 'btc-addr') {\n      return decentralizedID.split(':')[2];\n    } else {\n      return undefined;\n    }\n  }\n  return undefined;\n}","map":{"version":3,"names":["InvalidDIDError","makeDIDFromAddress","address","makeDIDFromPublicKey","publicKey","getDIDType","decentralizedID","didParts","split","length","toLowerCase","getAddressFromDID","didType","undefined"],"sources":["C:\\Users\\Elliott\\Tiny-Market\\frontend-tinymarket\\node_modules\\@stacks\\auth\\src\\dids.ts"],"sourcesContent":["import { InvalidDIDError } from '@stacks/common';\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function makeDIDFromAddress(address: string) {\r\n  return `did:btc-addr:${address}`;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function makeDIDFromPublicKey(publicKey: string) {\r\n  return `did:ecdsa-pub:${publicKey}`;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function getDIDType(decentralizedID: string) {\r\n  const didParts = decentralizedID.split(':');\r\n\r\n  if (didParts.length !== 3) {\r\n    throw new InvalidDIDError('Decentralized IDs must have 3 parts');\r\n  }\r\n\r\n  if (didParts[0].toLowerCase() !== 'did') {\r\n    throw new InvalidDIDError('Decentralized IDs must start with \"did\"');\r\n  }\r\n\r\n  return didParts[1].toLowerCase();\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport function getAddressFromDID(decentralizedID?: string): string | undefined {\r\n  if (decentralizedID) {\r\n    const didType = getDIDType(decentralizedID);\r\n    if (didType === 'btc-addr') {\r\n      return decentralizedID.split(':')[2];\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\n/*\r\nexport function getPublicKeyOrAddressFromDID(decentralizedID) {\r\n  const didParts = decentralizedID.split(':')\r\n\r\n  if (didParts.length !== 3) {\r\n    throw new InvalidDIDError('Decentralized IDs must have 3 parts')\r\n  }\r\n\r\n  if (didParts[0].toLowerCase() !== 'did') {\r\n    throw new InvalidDIDError('Decentralized IDs must start with \"did\"')\r\n  }\r\n\r\n  if (didParts[1].toLowerCase() === 'ecdsa-pub') {\r\n    return didParts[2]\r\n  } else if (didParts[1].toLowerCase() === 'btc-addr') {\r\n    return didParts[2]\r\n  } else {\r\n    throw new InvalidDIDError('Decentralized ID format not supported')\r\n  }\r\n}\r\n*/\r\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,gBAAgB;AAKhD,OAAM,SAAUC,kBAAkBA,CAACC,OAAe;EAChD,OAAO,gBAAgBA,OAAO,EAAE;AAClC;AAKA,OAAM,SAAUC,oBAAoBA,CAACC,SAAiB;EACpD,OAAO,iBAAiBA,SAAS,EAAE;AACrC;AAKA,OAAM,SAAUC,UAAUA,CAACC,eAAuB;EAChD,MAAMC,QAAQ,GAAGD,eAAe,CAACE,KAAK,CAAC,GAAG,CAAC;EAE3C,IAAID,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;IACzB,MAAM,IAAIT,eAAe,CAAC,qCAAqC,CAAC;;EAGlE,IAAIO,QAAQ,CAAC,CAAC,CAAC,CAACG,WAAW,EAAE,KAAK,KAAK,EAAE;IACvC,MAAM,IAAIV,eAAe,CAAC,yCAAyC,CAAC;;EAGtE,OAAOO,QAAQ,CAAC,CAAC,CAAC,CAACG,WAAW,EAAE;AAClC;AAKA,OAAM,SAAUC,iBAAiBA,CAACL,eAAwB;EACxD,IAAIA,eAAe,EAAE;IACnB,MAAMM,OAAO,GAAGP,UAAU,CAACC,eAAe,CAAC;IAC3C,IAAIM,OAAO,KAAK,UAAU,EAAE;MAC1B,OAAON,eAAe,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACrC,MAAM;MACL,OAAOK,SAAS;;;EAGpB,OAAOA,SAAS;AAClB"},"metadata":{},"sourceType":"module","externalDependencies":[]}